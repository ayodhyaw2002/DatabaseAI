<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>Database AI Assistant</title>
Â  Â  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  background-color: #f4f6f9;
Â  Â  Â  Â  Â  Â  padding-top: 60px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 900px;
Â  Â  Â  Â  Â  Â  background: #fff;
Â  Â  Â  Â  Â  Â  padding: 30px;
Â  Â  Â  Â  Â  Â  border-radius: 15px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 8px 20px rgba(0,0,0,0.1);
Â  Â  Â  Â  }
Â  Â  Â  Â  .table thead {
Â  Â  Â  Â  Â  Â  background-color: #0d6efd;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  }
Â  Â  Â  Â  pre {
Â  Â  Â  Â  Â  Â  background-color: #f1f1f1;
Â  Â  Â  Â  Â  Â  padding: 15px;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <h2 class="text-center mb-4 text-primary">Chat with Database ðŸ’¡</h2>

Â  Â  Â  Â  <form method="POST" class="mb-4">
Â  Â  Â  Â  Â  Â  <div class="input-group">
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" name="user_question" class="form-control" placeholder="Eg: How many customers start with A?" required>
Â  Â  Â  Â  Â  Â  Â  Â  <button class="btn btn-primary" type="submit">Ask</button>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  </form>

Â  Â  Â  Â  {% if sql_query %}
Â  Â  Â  Â  Â  Â  <h5 class="mt-4">ðŸ§  Interpreted SQL Query:</h5>
Â  Â  Â  Â  Â  Â  <pre>{{ sql_query }}</pre>
Â  Â  Â  Â  {% endif %}

Â  Â  Â  Â  {% if results %}
Â  Â  Â  Â  Â  Â  <h5 class="mt-4"> Query Results:</h5>
Â  Â  Â  Â  Â  Â  <div class="table-responsive">
Â  Â  Â  Â  Â  Â  Â  Â  <table class="table table-bordered table-hover">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% for col in results[0].keys() %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>{{ col }}</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% for row in results %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% for val in row.values() %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <td>{{ val }}</td>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  {% endfor %}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  Â  Â  Â  Â  </table>
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  {% endif %}

Â  Â  Â  Â  {% if error_message %}
Â  Â  Â  Â  Â  Â  <div class="alert alert-danger mt-4" role="alert">
Â  Â  Â  Â  Â  Â  Â  Â  <strong>Error:</strong> {{ error_message }}
Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  {% endif %}
Â  Â  </div>

Â  Â  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
